const quizData1 = {
  math: [
    {
      question: "What is the value of pi (π) to two decimal places?",
      a: "3.12",
      b: "3.14",
      c: "3.16",
      d: "3.18",
      correct: "b",
    },
    {
      question: "What is the product of 8 and 12?",
      a: "96",
      b: "104",
      c: "100",
      d: "108",
      correct: "a",
    },
    {
      question: "What is 25% of 200?",
      a: "50",
      b: "25",
      c: "75",
      d: "100",
      correct: "a",
    },
    {
      question: "What is the square root of 144?",
      a: "10",
      b: "12",
      c: "14",
      d: "16",
      correct: "b",
    },
    {
      question: "What is the sum of angles in a triangle?",
      a: "90 degrees",
      b: "180 degrees",
      c: "270 degrees",
      d: "360 degrees",
      correct: "b",
    },
    {
      question: "What is the perimeter of a rectangle with length 5m and width 3m?",
      a: "16m",
      b: "15m",
      c: "14m",
      d: "13m",
      correct: "a",
    },
    {
      question: "If a car travels 60 kilometers per hour, how far will it travel in 3 hours?",
      a: "150 km",
      b: "180 km",
      c: "200 km",
      d: "160 km",
      correct: "b",
    },
    {
      question: "What is 10% of 500?",
      a: "30",
      b: "50",
      c: "100",
      d: "500",
      correct: "b",
    },
    {
      question: "What is the area of a circle with radius 7cm?",
      a: "49π cm²",
      b: "14π cm²",
      c: "22π cm²",
      d: "35π cm²",
      correct: "a",
    },
    {
      question: "What is 3³ (3 raised to the power of 3)?",
      a: "6",
      b: "9",
      c: "27",
      d: "30",
      correct: "c",
    },
    {
      question: "Which number is prime?",
      a: "9",
      b: "12",
      c: "13",
      d: "15",
      correct: "c",
    },
    {
      question: "What is the sum of 15 and 32?",
      a: "45",
      b: "47",
      c: "49",
      d: "50",
      correct: "b",
    },
    {
      question: "What is 50 divided by 5?",
      a: "8",
      b: "9",
      c: "10",
      d: "11",
      correct: "c",
    },
    {
      question: "What is the greatest common divisor of 36 and 60?",
      a: "6",
      b: "12",
      c: "18",
      d: "24",
      correct: "b",
    },
    {
      question: "What is 2 + 2 × 3?",
      a: "10",
      b: "12",
      c: "8",
      d: "6",
      correct: "c",
    },
  ],

  english: [
    {
      question: "What does the word 'synthesis' mean in English?",
      a: "To break down",
      b: "To combine parts into a whole",
      c: "To repeat",
      d: "To evaluate",
      correct: "b",
    },
    {
      question: "Who wrote 'Romeo and Juliet'?",
      a: "William Shakespeare",
      b: "Charles Dickens",
      c: "Jane Austen",
      d: "Mark Twain",
      correct: "a",
    },
    {
      question: "What is a synonym for 'happy'?",
      a: "Sad",
      b: "Joyful",
      c: "Angry",
      d: "Bored",
      correct: "b",
    },
    {
      question: "Which of the following is a correct sentence?",
      a: "He don't like the food.",
      b: "He doesn't like the food.",
      c: "He don't likes the food.",
      d: "He doesn't like food.",
      correct: "b",
    },
    {
      question: "What is the opposite of 'big'?",
      a: "Large",
      b: "Huge",
      c: "Small",
      d: "Tall",
      correct: "c",
    },
    {
      question: "Which of these is a past tense verb?",
      a: "Eating",
      b: "Eats",
      c: "Ate",
      d: "Eat",
      correct: "c",
    },
    {
      question: "Which of these is a compound word?",
      a: "Cat",
      b: "Basketball",
      c: "Jump",
      d: "Happy",
      correct: "b",
    },
    {
      question: "What is a metaphor?",
      a: "A comparison using 'like' or 'as'",
      b: "A figure of speech where something is described as something else",
      c: "A type of rhyme",
      d: "A sentence with no subject",
      correct: "b",
    },
    {
      question: "What is the subject of the sentence: 'She quickly ran to the store.'?",
      a: "Ran",
      b: "Store",
      c: "She",
      d: "Quickly",
      correct: "c",
    },
    {
      question: "Which of these sentences is correct?",
      a: "Its raining outside.",
      b: "It's raining outside.",
      c: "Its' raining outside.",
      d: "It raining outside.",
      correct: "b",
    },
    {
      question: "What is the plural form of 'child'?",
      a: "Childs",
      b: "Children",
      c: "Childes",
      d: "Childeren",
      correct: "b",
    },
    {
      question: "Which word is an adjective?",
      a: "Quickly",
      b: "Happy",
      c: "Run",
      d: "Silently",
      correct: "b",
    },
    {
      question: "What is the antonym of 'noisy'?",
      a: "Loud",
      b: "Quiet",
      c: "Silent",
      d: "Lively",
      correct: "b",
    },
    {
      question: "Which of these words is an adverb?",
      a: "Slow",
      b: "Slowly",
      c: "Slowness",
      d: "Slower",
      correct: "b",
    },
    {
      question: "Which of these is a question word?",
      a: "Can",
      b: "Why",
      c: "Be",
      d: "It",
      correct: "b",
    },
  ],

  science: [
    {
      question: "What is the chemical symbol for water?",
      a: "O2",
      b: "CO2",
      c: "H2O",
      d: "HO2",
      correct: "c",
    },
    {
      question: "What planet is known as the 'Red Planet'?",
      a: "Earth",
      b: "Mars",
      c: "Venus",
      d: "Jupiter",
      correct: "b",
    },
    {
      question: "What is the main source of energy for the Earth?",
      a: "The Moon",
      b: "The Sun",
      c: "The Earth’s core",
      d: "The wind",
      correct: "b",
    },
    {
      question: "What is the chemical symbol for oxygen?",
      a: "O",
      b: "O2",
      c: "Ox",
      d: "O3",
      correct: "a",
    },
    {
      question: "Which organ pumps blood through the body?",
      a: "Lungs",
      b: "Heart",
      c: "Brain",
      d: "Liver",
      correct: "b",
    },
    {
      question: "Which of these is not a type of rock?",
      a: "Igneous",
      b: "Metamorphic",
      c: "Sedimentary",
      d: "Volcanic",
      correct: "d",
    },
    {
      question: "What is the freezing point of water?",
      a: "32°F",
      b: "0°C",
      c: "32°C",
      d: "100°F",
      correct: "b",
    },
    {
      question: "What is the force that pulls objects towards the Earth?",
      a: "Friction",
      b: "Gravity",
      c: "Magnetism",
      d: "Pressure",
      correct: "b",
    },
    {
      question: "What is the primary gas in the Earth's atmosphere?",
      a: "Oxygen",
      b: "Hydrogen",
      c: "Carbon Dioxide",
      d: "Nitrogen",
      correct: "d",
    },
    {
      question: "What is the powerhouse of the cell?",
      a: "Nucleus",
      b: "Mitochondria",
      c: "Ribosome",
      d: "Chloroplast",
      correct: "b",
    },
    {
      question: "What is the process by which plants make food?",
      a: "Fermentation",
      b: "Photosynthesis",
      c: "Respiration",
      d: "Absorption",
      correct: "b",
    },
    {
      question: "What type of animal is a frog?",
      a: "Mammal",
      b: "Reptile",
      c: "Amphibian",
      d: "Fish",
      correct: "c",
    },
    {
      question: "What is the smallest unit of matter?",
      a: "Atom",
      b: "Molecule",
      c: "Proton",
      d: "Electron",
      correct: "a",
    },
    {
      question: "What is the main function of red blood cells?",
      a: "Carry oxygen",
      b: "Fight infection",
      c: "Regulate temperature",
      d: "Control movement",
      correct: "a",
    },
    {
      question: "Which of these is a non-renewable resource?",
      a: "Solar energy",
      b: "Wind energy",
      c: "Coal",
      d: "Hydropower",
      correct: "c",
    },
  ],

  history: [
    {
      question: "Who is the first president of the Philippines?",
      a: "Emilio Aguinaldo",
      b: "Andres Bonifacio",
      c: "Jose Rizal",
      d: "Manuel L. Quezon",
      correct: "a",
    },
    {
      question: "What year did the Philippines gain independence from Spain?",
      a: "1896",
      b: "1898",
      c: "1900",
      d: "1946",
      correct: "b",
    },
    {
      question: "What is the name of the 1896 revolution against Spanish rule?",
      a: "The Revolution of 1901",
      b: "The Philippine-American War",
      c: "The Filipino-American Revolt",
      d: "The Philippine Revolution",
      correct: "d",
    },
    {
      question: "Who was the leader of the Katipunan?",
      a: "Emilio Aguinaldo",
      b: "Andres Bonifacio",
      c: "Jose Rizal",
      d: "Apolinario Mabini",
      correct: "b",
    },
    {
      question: "What battle marked the beginning of the Philippine-American War?",
      a: "Battle of Manila Bay",
      b: "Battle of Tirad Pass",
      c: "Battle of Binakayan",
      d: "Battle of Balintawak",
      correct: "c",
    },
    {
      question: "When did the EDSA People Power Revolution occur?",
      a: "1965",
      b: "1972",
      c: "1986",
      d: "1992",
      correct: "c",
    },
    {
      question: "Who was the longest-serving president of the Philippines?",
      a: "Ferdinand Marcos",
      b: "Manuel L. Quezon",
      c: "Ramon Magsaysay",
      d: "Gloria Macapagal-Arroyo",
      correct: "a",
    },
    {
      question: "What did the 'Bataan Death March' refer to?",
      a: "A battle during World War II",
      b: "A forced march of Filipino and American prisoners of war",
      c: "A peaceful protest against Spanish rule",
      d: "A political assassination",
      correct: "b",
    },
    {
      question: "Who was the first woman president of the Philippines?",
      a: "Imelda Marcos",
      b: "Cory Aquino",
      c: "Gloria Macapagal-Arroyo",
      d: "Sonia Roco",
      correct: "b",
    },
    {
      question: "Which event marked the start of World War II in the Philippines?",
      a: "Attack on Pearl Harbor",
      b: "Japanese invasion of the Philippines",
      c: "Battle of Bataan",
      d: "The signing of the Treaty of Paris",
      correct: "b",
    },
    {
      question: "Which country colonized the Philippines for over 300 years?",
      a: "United States",
      b: "Spain",
      c: "Japan",
      d: "France",
      correct: "b",
    },
    {
      question: "Who was the leader of the Philippines during the 1986 EDSA Revolution?",
      a: "Ferdinand Marcos",
      b: "Corazon Aquino",
      c: "Jose Rizal",
      d: "Emilio Aguinaldo",
      correct: "b",
    },
    {
      question: "When was the Philippine independence day celebrated?",
      a: "June 12, 1898",
      b: "July 4, 1946",
      c: "August 21, 1971",
      d: "December 8, 1941",
      correct: "a",
    },
    {
      question: "What was the significance of the Battle of Manila Bay?",
      a: "The defeat of the American navy",
      b: "The surrender of the Spanish fleet",
      c: "The first use of atomic bombs in warfare",
      d: "The beginning of the Philippine-American War",
      correct: "b",
    },
    {
      question: "Which national hero was executed by the Spanish at Bagumbayan?",
      a: "Andres Bonifacio",
      b: "Jose Rizal",
      c: "Emilio Aguinaldo",
      d: "Apolinario Mabini",
      correct: "b",
    },
  ]
};

const urlParams = new URLSearchParams(window.location.search);
const body = document.body;
const quiz = document.getElementById("quiz");
const answerElements = document.querySelectorAll(".answer");
const questionElement = document.getElementById("question");
const a_text = document.getElementById("a_text");
const b_text = document.getElementById("b_text");
const c_text = document.getElementById("c_text");
const d_text = document.getElementById("d_text");
const submitButton = document.getElementById("submit");

let currentQuiz = 0;
let score = 0;
let subject = urlParams.get("subject");


// ✅ Make sure quizDataFiltered is properly initialized
let quizDataFiltered = quizData1[subject]; // Filter quiz questions by subject

if (!quizDataFiltered || quizDataFiltered.length === 0) {
  console.error("No questions found for subject:", subject);
} else {
  console.log("Loaded Questions:", quizDataFiltered);
}

const deselectAnswers = () => {
  answerElements.forEach((answer) => (answer.checked = false));
};

const getSelected = () => {
  let answer;
  answerElements.forEach((answerElement) => {
    if (answerElement.checked) answer = answerElement.id;
  });
  return answer;
};

const asksubject = (defaultSub) => {
  let subject = defaultSub
}

const loadQuiz = () => {
  deselectAnswers();

  if (currentQuiz >= quizDataFiltered.length) {
    console.error("No more questions available!");
    return;
  }

  const currentQuizData = quizDataFiltered[currentQuiz]; // ✅ Fix the error here
  questionElement.innerText = currentQuizData.question;
  a_text.innerText = currentQuizData.a;
  b_text.innerText = currentQuizData.b;
  c_text.innerText = currentQuizData.c;
  d_text.innerText = currentQuizData.d;
};

function goToHome() {
  window.location.href = "home.html";
}

// ✅ Ensure the quiz loads correctly
document.addEventListener("DOMContentLoaded", () => {
  asksubject('math');
  loadQuiz();
});

submitButton.addEventListener("click", () => {
  const answer = getSelected();
  if (answer) {
    if (answer === quizDataFiltered[currentQuiz].correct) score++;
    currentQuiz++;
    if (currentQuiz < quizDataFiltered.length) loadQuiz();
    else {
      quiz.innerHTML = `
            <h2>You answered ${score}/${quizDataFiltered.length} questions correctly</h2>
            <button onclick="goToHome()">Play Again</button>
        `;
    }
  }
});
